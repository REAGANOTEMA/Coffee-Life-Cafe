<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Coffee Life Cafe Elite Payment Experience</title>
    <meta name="description" content="Coffee Life ‚Äî The Most Exclusive Coffee Checkout Experience">
    <link rel="icon" href="images/logo.jpg" type="image/x-icon">

    <!-- CSS Links -->
    <link rel="stylesheet" href="css/payment.css">
    <link rel="stylesheet" href="css/form.css">
    <link rel="stylesheet" href="css/cart.css">
    <link rel="stylesheet" href="css/menu.css">
</head>

<body>
    <!-- HERO -->
    <main class="container">
        <section class="hero-section" aria-labelledby="hero-title">
            <h1 id="hero-title">Elite Checkout Experience</h1>
            <p>Seamless ‚Ä¢ Premium ‚Ä¢ Exclusive</p>
        </section>

        <!-- Back to Home -->
        <div style="text-align:center; margin-top:20px;">
            <a href="index.html" class="btn btn-3d">‚Üê Back to Home</a>
        </div>

        <!-- Menu Items -->
        <section id="menuItemsContainer" class="menu-section">
            <h2>Menu</h2>
            <div class="menu-grid" id="menuGrid">
                <!-- JS will populate menu items here -->
            </div>
        </section>

        <div class="grid" role="region" aria-label="Checkout grid">
            <!-- Branch & Delivery -->
            <section class="panel" aria-labelledby="branch-title">
                <div class="card" role="group" aria-labelledby="branch-title">
                    <h2 id="branch-title">Select Branch & Delivery Area</h2>

                    <label for="location-group">Branch:</label>
                    <select id="location-group" onchange="checkBranch(this.value)">
                        <option value="jinja-highway" selected>Coffee Life Cafe Jinja Highway</option>
                        <option value="kampala">Coffee Life Cafe Kampala (Coming Soon)</option>
                        <option value="jinja-lakeview">Coffee Life Cafe Jinja Lakeview (Coming Soon)</option>
                    </select>

                    <label for="delivery-zone">Delivery Area:</label>
                    <select id="delivery-zone">
                        <option value="Jinja Town">Jinja Town ‚Äî 2,000 UGX</option>
                        <option value="Milo Mbili">Milo Mbili ‚Äî 2,000 UGX</option>
                        <option value="Walukuba West">Walukuba West ‚Äî 2,000 UGX</option>
                        <option value="Walukuba East">Walukuba East ‚Äî 3,000 UGX</option>
                        <option value="Mafubira">Mafubira ‚Äî 3,000 UGX</option>
                        <option value="Mpumudde">Mpumudde ‚Äî 3,000 UGX</option>
                        <option value="Bugembe">Bugembe ‚Äî 3,000 UGX</option>
                        <option value="Nile">Nile ‚Äî 3,000 UGX</option>
                        <option value="Makerere">Makerere ‚Äî 3,000 UGX</option>
                        <option value="Kira Road">Kira Road ‚Äî 3,000 UGX</option>
                        <option value="Masese">Masese ‚Äî 4,000 UGX</option>
                        <option value="Wakitaka">Wakitaka ‚Äî 4,000 UGX</option>
                        <option value="Namuleesa">Namuleesa ‚Äî 4,000 UGX</option>
                    </select>

                    <div class="small">Delivery fee: <strong id="deliveryFee">0 UGX</strong></div>
                </div>
            </section>

            <!-- Cart & Payment -->
            <aside class="panel" aria-labelledby="cart-title">
                <div class="card">
                    <h2 id="cart-title">Your Cart</h2>
                    <div id="cartItems" aria-live="polite">
                        <!-- JS will populate cart items here -->
                    </div>

                    <div class="cart-summary">
                        <div><span>Subtotal</span> <span id="cartSubtotal">0 UGX</span></div>
                        <div><span>Delivery</span> <span id="deliveryFeeSummary">0 UGX</span></div>
                        <div><strong>Total</strong> <strong id="cartTotal">0 UGX</strong></div>
                    </div>

                    <div id="payment-section" aria-labelledby="payment-title">
                        <h3 id="payment-title">Choose Payment Method</h3>
                        <div class="payment-options" role="tablist">
                            <button class="btn btn-3d payment-option" data-provider="mtn"
                                aria-pressed="false">MTN</button>
                            <button class="btn btn-3d payment-option" data-provider="airtel"
                                aria-pressed="false">Airtel</button>
                        </div>

                        <div id="merchantCard" aria-live="polite">
                            <div>
                                <strong>Selected Provider:</strong>
                                <div id="merchantProvider">None</div>
                            </div>
                            <div>
                                <strong>Merchant Code:</strong>
                                <div id="merchantCode">MTN: 971714 ‚Ä¢ Airtel: 4393386</div>
                            </div>

                            <div class="actions">
                                <button class="btn btn-3d" id="copyMerchant">Copy Code</button>
                                <button class="btn btn-3d" id="showUSSD">Show Instructions</button>
                                <button class="btn btn-3d copy-individual" data-code="971714" data-network="MTN">Copy
                                    MTN</button>
                                <button class="btn btn-3d copy-individual" data-code="4393386"
                                    data-network="Airtel">Copy Airtel</button>
                            </div>

                            <p>Tip: After sending payment, tap <strong>Confirm & Send via WhatsApp</strong>.</p>
                        </div>

                        <input type="text" class="btn-input" id="paymentNumber" placeholder="Enter your payment number">
                        <div class="actions">
                            <button class="btn btn-3d" id="whatsapp-confirm">Confirm & Send via WhatsApp</button>
                            <button class="btn btn-3d" id="callSupport">Call Support</button>
                        </div>
                    </div>
                </div>
            </aside>
        </div>

        <!-- üåü Customer Feedback Section -->
        <section id="feedback-section" class="feedback-section">
            <div class="card feedback-card">
                <h2>Share Your Experience üí¨</h2>
                <p>We value your experience ‚Äî help us make every Coffee Life visit even more exceptional.</p>

                <form id="feedbackForm" class="feedback-form">
                    <input type="text" id="fbName" class="btn-input" placeholder="Your Name (optional)">
                    <input type="email" id="fbEmail" class="btn-input" placeholder="Your Email (optional)">
                    <select id="fbRating" class="btn-input">
                        <option value="">Rate your experience ‚≠ê</option>
                        <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Excellent</option>
                        <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê Great</option>
                        <option value="3">‚≠ê‚≠ê‚≠ê Good</option>
                        <option value="2">‚≠ê‚≠ê Fair</option>
                        <option value="1">‚≠ê Poor</option>
                    </select>
                    <textarea id="fbMessage" class="btn-input" rows="4"
                        placeholder="Tell us what you loved or how we can improve..."></textarea>
                    <button type="submit" class="btn btn-3d" id="fbSubmit">Submit Feedback</button>
                </form>

                <div id="fbToast" class="toast" aria-live="assertive"></div>
            </div>
        </section>
    </main>

    <!-- WhatsApp Floating Button -->
    <div class="floating-buttons">
        <a href="https://wa.me/256709691395" target="_blank" rel="noopener" class="btn btn-3d" id="waFloat">
            Order on WhatsApp
        </a>
    </div>

    <div id="toast" aria-live="assertive"></div>

    <noscript>
        <div>JavaScript is required for full functionality.</div>
    </noscript>

    <!-- JS Links -->
    <script src="js/cart.js" defer></script>
    <script src="js/menu.js" defer></script>
    <script src="js/payment.js" defer></script>
    <script src="js/form.js" defer></script>

    <script>
        // Branch control
        function checkBranch(value) {
            if (value !== 'jinja-highway') {
                alert('This branch is not available yet.');
                document.getElementById('location-group').value = 'jinja-highway';
            }
        }

        // Feedback system
        document.addEventListener('DOMContentLoaded', () => {
            const fbForm = document.getElementById('feedbackForm');
            const fbToast = document.getElementById('fbToast');

            fbForm.addEventListener('submit', e => {
                e.preventDefault();
                const name = document.getElementById('fbName').value.trim();
                const email = document.getElementById('fbEmail').value.trim();
                const rating = document.getElementById('fbRating').value;
                const message = document.getElementById('fbMessage').value.trim();

                if (!rating && !message) {
                    fbToast.textContent = "Please share at least a rating or a comment!";
                } else {
                    fbToast.textContent = "Thank you for your feedback ‚òï We truly appreciate your time!";
                    fbForm.reset();
                }

                fbToast.style.opacity = '1';
                fbToast.style.transform = 'translateY(0)';
                setTimeout(() => {
                    fbToast.style.opacity = '0';
                    fbToast.style.transform = 'translateY(-20px)';
                }, 3000);
            });
        });
    </script>
</body>

</html>